{% extends 'control/base.html' %}
{% load static %}

    {% block page_title %}Bosh Sahifa Ma'lumotlari{% endblock page_title %}
    {% block content %}
    
    <div class="row">
      <div class="col-lg-5 col-md-6 col-sm-12">
        <div class="card">
          <div class="card-body text-center">
            <a style="color: #333 !important;" href="{% url 'control_sliders_all' %}"><h5 class="card-title">Slayderlar</h5></a>
            <a href="{% url 'control_slider_add' %}" style="background-color: #FDB819;" class="btn mt-3">Slayder Yaratish</a>
          </div>
        </div>
      </div>
      <div class="col-lg-7 col-md-6 col-sm-12">
        <div class="card">
          <div class="card-body text-center">
            <a style="color: #333 !important;" href="{% url 'control_slidercategories_all' %}"><h5 class="card-title">Slayder Kategoriyalar</h5></a>
            {% if total_slidercategories >= 2 %}
            <a href="{% url 'control_slidercategories_all' %}" style="background-color: #FDB819;" class="btn mt-3">Slayder Kategoriyalar</a>
            {% else %}    
            <a href="{% url 'control_slidercategory_add' %}" style="background-color: #FDB819;" class="btn mt-3">Slider Kategoriya Yaratish</a>
            {% endif %}            
          </div>
        </div>
      </div>
      <div class="col-lg-7 col-md-6 col-sm-12">
        <div class="card">
          <div class="card-body text-center">
            <a style="color: #333 !important;" href="{% url 'control_popularcategories_all' %}"><h5 class="card-title">Ko'p Sotiladigon Mahsulotlar</h5></a>
            {% if total_popularcategories >= 5 %}
            <a href="{% url 'control_popularcategories_all' %}" style="background-color: #FDB819;" class="btn mt-3">Ko'p Sotiladigon Mahsulotlar</a>
            {% else %}    
            <a href="{% url 'control_popularcategory_add' %}" style="background-color: #FDB819;" class="btn mt-3">Ko'p Sotiladigon Mahsulot Yaratish</a>
            {% endif %}   

          </div>
        </div>
      </div>
      <div class="col-lg-5 col-md-6 col-sm-12">
        <div class="card">
          <div class="card-body text-center">
            <a style="color: #333 !important;" href="{% url 'control_footsliders_all' %}"><h5 class="card-title">Pastgi Bannerlar</h5></a>
            <a href="{% url 'control_footslider_add' %}" style="background-color: #FDB819;" class="btn mt-3">Pastgi Banner Yaratish</a>
          </div>
        </div>
      </div>
    </div>
    <br><br>
    <div class="row">
      <h3>Ma'lumotlar</h3>
      <div class="col-lg-7 col-md-6 col-sm-12">
        <div class="card">
          <div class="card-body text-center">
            <h5 class="card-title">Mahsulotlar</h5>
            <p class="card-text">Do'kondagi barcha mahsulotlar soni <span class="text-dark" style="font-size: 18px;"><b>{{ total_products }}</b> ta</span></p>
            <p class="card-text">To'p mahsulotlar soni <span class="text-dark" style="font-size: 20px;"><b>{{ total_populars }}</b></span> ta</p>
            <a href="{% url 'control_products_all' %}" style="background-color: #FDB819;" class="btn">Barcha Mahsulotlar</a>
          </div>
        </div>
      </div>
      <div class="col-lg-5 col-md-6 col-sm-12">
        <div class="card">
          <div class="card-body text-center">
            <h5 class="card-title">Toifalar</h5>
            <p class="card-text">Do'kondagi barcha toifalar soni <span class="text-success"><b><h4>{{ total_categories }} ta</h4></b></span></p>
            <a href="{% url 'control_categories_all' %}" style="background-color: #FDB819;" class="btn">Barcha Toifalar</a>
          </div>
        </div>
      </div>

      <div class="col-lg-5 col-md-6 col-sm-12">
        <div class="card">
          <div class="card-body text-center">
            <h5 class="card-title">Ustalar</h5>
            <p class="card-text">Bizning Ustalar soni <span class="text-success"><b><h4>{{ total_masters }} ta</h4></b></span></p>
            <a href="{% url 'control_categories_all' %}" style="background-color: #FDB819;" class="btn">Barcha Ustalar</a>
          </div>
        </div>
      </div>

      <div class="col-lg-7 col-md-6 col-sm-12">
        <div class="card">
          <div class="card-body text-center">
            <h5 class="card-title">Slayderlar</h5>
            <p class="card-text">Asosiy Slayderlar soni <span class="text-success"><b><h4>{{ total_sliders }} ta</h4></b></span></p>
            <a href="{% url 'control_sliders_all' %}" style="background-color: #FDB819;" class="btn">Barcha Slayderlar</a>
          </div>
        </div>
      </div>
      </div>

    {% endblock content %}



{% block js_content %}

<script src="{% static 'control/assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js' %}"></script>
<script>
  // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function () {
      'use strict'

      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      var forms = document.querySelectorAll('.needs-validation')

      // Loop over them and prevent submission
      Array.prototype.slice.call(forms)
      .forEach(function (form) {
        form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }

        form.classList.add('was-validated')
        }, false)
      })
    })()
</script>

<script>
  ClassicEditor.defaultConfig = { 
    toolbar:  [
    { name: 'save', items: [ 'savebtn','Undo','Redo' ] },
    { name: 'clipboard', items: [ 'Cut','Copy','Paste','PasteText','PasteFromWord'] },
    { name: 'document', items: [ 'Find','Replace'] },
    '/',
    { name: 'lists', items: [ 'NumberedList','BulletedList','Outdent','Indent'] },
    { name: 'insert', items: [ 'Image','Table','Smiley','SpecialChar'] },
    { name: 'link', items: ['Link','Unlink'] },
    '/',
    { name: 'basicstyles', items: [ 'Font','FontSize','Bold','Italic','Underline','Strike','Subscript','Superscript'] },
    //'/',
    { name: 'align', items: [ 'JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'] }
],
 
    table: { 
      contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells'] 
    }, 
    language: 'en' 
  }; 
  ClassicEditor.create(document.querySelector("#editor"), {
    toolbar:  [
    { name: 'save', items: [ 'savebtn','Undo','Redo' ] },
    { name: 'clipboard', items: [ 'Cut','Copy','Paste','PasteText','PasteFromWord'] },
    { name: 'document', items: [ 'Find','Replace'] },
    '/',
    { name: 'lists', items: [ 'NumberedList','BulletedList','Outdent','Indent'] },
    { name: 'insert', items: [ 'Image','Table','Smiley','SpecialChar'] },
    { name: 'link', items: ['Link','Unlink'] },
    '/',
    { name: 'basicstyles', items: [ 'Font','FontSize','Bold','Italic','Underline','Strike','Subscript','Superscript'] },
    //'/',
    { name: 'align', items: [ 'JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'] }
],
 
    table: { 
      contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells'] 
    }, 
    language: 'en' 
  }).catch((error) => { 
    console.error(error); 
  });
  ClassicEditor.create(document.querySelector("#editor1")).catch((error) => { 
    console.error(error); 
  });
</script>

<script>
    setInterval(myTimer, 1000);
    function myTimer() {
        const d = new Date();
        let cc = document.querySelectorAll('.alert_nums');
        cc.forEach(element => {
            element.innerHTML -= 1
        })
    }
    setInterval(()=> $(".alert").alert('close'), 6000)
</script>

{% endblock js_content %}